////
/// Card mixins.
/// @group card
/// @copyright IBM Security 2019
////

@import '@carbon/layout/scss/mini-unit';
@import '@carbon/layout/scss/spacing';
@import '@carbon/themes/scss/tokens';
@import '@carbon/type/scss/styles';

@import 'carbon-components/scss/globals/scss/helper-mixins';

@import '../../globals/motion/index';
@import '../../globals/theme/mixins';

@import '../../platform/body/mixins';

/// Name.
/// @type String
$card__name: card;

@mixin card {
  /// Header image dimensions.
  /// @type Length
  $card__image__sizing__dimensions: carbon--mini-units(
    $count: 4,
  );

  @include input__background-color;

  display: flex;
  width: auto;
  min-width: carbon--mini-units($count: 24);
  min-height: $carbon--layout-06;
  padding: $carbon--spacing-05;
  color: $body__color__text;
  background-color: $ui-01;
  flex-direction: column;
  word-break: break-word;

  &__link {
    @include transition($transition-property: background-color);

    display: block;
    color: inherit;
    text-decoration: none;

    &:focus,
    &:hover {
      background-color: $hover-ui;
    }

    &:focus {
      @include focus-outline($type: outline);
    }
  }

  &__header {
    &__image {
      width: $card__image__sizing__dimensions;
      height: $card__image__sizing__dimensions;
      margin-bottom: $carbon--spacing-02;
    }

    &__title {
      @include carbon--type-style($name: heading-01);
      margin-top: 0;
      margin-bottom: $carbon--spacing-05;
    }

    &__tag {
      @include carbon--type-style($name: caption-01);
    }
  }

  &__body {
    display: inline-block;

    &__text {
      @include carbon--type-style($name: caption-01);
      margin-bottom: $carbon--spacing-05;
    }
  }

  &__footer {
    @include carbon--type-style($name: label-01);

    margin-top: auto;
  }

  &.microlayout {
    padding-bottom: 0;

    .microLayout__screenshot {
      max-width: 100%;
    }

    .card-toolbar {
      align-items: center;
      padding: $spacing-03 0;
    }

    .card-toolText {
      @include carbon--type-style('body-short-01');
      color: $text-02;
    }

    .icon-bar {
      justify-content: flex-end;
      padding-right: $spacing-03;
      margin-top: 0;
      margin-bottom: 0;
      margin-left: -$spacing-05;
      margin-right: -$spacing-05;

      button {
        margin-left: $spacing-03;
      }
    }

    .loader {
      padding-bottom: $spacing-07;
    }

    .code-header {
      @include carbon--type-style('code-02');
    }

    .txt-ip {
      color: #08bdba;
    }
    .txt-equals {
      color: #ff7eb6;
    }
    .txt-start {
      color: #be95ff;
    }
    .txt-date {
      color: #6fdc8c;
    }

    .custom-chart {
      width: 100%;
      margin: $spacing-05 0;
    }

    .desc-extraMargin {
      margin-bottom: $spacing-03;
    }

    .custom-percent {
      .security--ica__value {
        .security--ica__percentage-mark {
          vertical-align: baseline;
          @include carbon--type-style('body-short-01');
        }
      }
    }

    svg.warning-icon {
      fill: $support-03;
      // vertical-align: middle;
      margin-right: $spacing-03;
    }

    hr {
      @include carbon--theme();
      // width: 100%;
      background: $ui-02;
      color: $ui-02;
      border: 1px solid $ui-02;
      margin-top: $spacing-05;
      margin-bottom: 0;
      margin-left: -$spacing-05;
      margin-right: -$spacing-05;
    }

    .big-top {
      margin-top: $spacing-07;
    }

    .warning-btns.bx--btn-set {
      margin: 0 -16px;
      width: calc(50% + 16px);
      .bx--btn.bx--btn--ghost {
        box-shadow: none;
        justify-content: flex-start;
      }
      .right-align {
        text-align: end;
        display: inline-block;
        padding-right: $spacing-07;
      }
    }
  }
}
