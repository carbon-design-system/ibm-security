////
/// Summary card mixins.
/// @group summary-card
/// @copyright IBM Security 2019
////

@import '../../globals/index';

@mixin summary-card {
  height: carbon--mini-units(48);
  min-width: carbon--mini-units(36);

  &-body {
    position: relative;
    height: carbon--mini-units(38);
    display: flex;
    flex-direction: column;
    position: relative;
  }

  &-content {
    // `hidden` because the ScrollGradient will handle overflow:
    overflow: hidden;

    display: flex;
    height: 100%;
    width: 100%;
    border-bottom: 1px solid $ui-02;
    padding: 0 $carbon--spacing-05 $carbon--spacing-05 $carbon--spacing-05;
    margin-top: $carbon--spacing-05;
  }

  &-header {
    height: carbon--mini-units(4);
    display: flex;
    padding: $carbon--spacing-05 $carbon--spacing-05 0 $carbon--spacing-05;

    &__title {
      @include carbon--type-style(caption-01);
      color: $text-02;
      flex-grow: 1;
    }
  }

  &-details {
    position: absolute;
    background-color: $overlay-01;
    cursor: default;
    z-index: z($layer: overlay);
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    padding: $carbon--spacing-05;
  }

  &-details__overlay {
    &__transition {
      &--enter {
        opacity: 0;

        &--active {
          transition-property: opacity;
          transition-duration: $duration--moderate-01;
          transition-delay: $duration--moderate-01 * 2;
          transition-timing-function: carbon--motion(entrance, productive);
          opacity: 1;
        }
      }

      &--leave {
        opacity: 1;

        &--active {
          transition-property: opacity;
          transition-duration: $duration--moderate-01;
          transition-timing-function: carbon--motion(exit, productive);
          opacity: 0;
        }
      }
    }
  }

  &-footer {
    position: relative;
    display: flex;
    background-color: $ui-01;
  }

  &-action {
    // Required for truncation:
    display: inline-block;

    flex: 1;

    &.#{$prefix}--btn--icon-only {
      justify-content: center;

      // why is the carbon button not 48px width with centered icon?
      width: 3rem;
      flex: 0 0 auto;

      // TODO -- https://github.com/carbon-design-system/carbon/issues/4245
      // Carbon has a `border: 0` reset applied with too high of specificity.
      &.#{$prefix}--btn--icon-only:focus {
        border: 3px solid $focus;
      }
    }
  }
}
